---
published: true
layout: single
title: 참조 무결성
categories:
  - Modeling
tags:
  - 참조 무결성

toc: true
toc_sticky: true

---

책을 보다보니 참조 무결성이라는 말이 자주 나온다.
대충 PK와 FK간의 관계라는건 알겠는데 정확한 의미를 몰라서 공부하게되었다.

> 참조 무결성은 FK가 PK를 참조하고있을때 사용자의 실수로
> 참조되는 PK를 수정하거나 삭제하지 않도록 한다.

공부를 할때 약간 CASCADE를 많이 쓰길래 PK과 FK를 같게 유지해주는 거라고 생각했는데 참조 무결성은 오히려 RESTRICT이다

아래는 FK의 참조시 사용 할 수 있는 옵션들이다


조건
1. ON DELETE
2. ON UPDATE

동작
1. CASCADE : 참조되는 테이블에서 데이터를 삭제하거나 수정하면, 참조하는 테이블에서도 삭제와 수정이 같이 이루어집니다.
2. SET NULL : 참조되는 테이블에서 데이터를 삭제하거나 수정하면, 참조하는 테이블의 데이터는 NULL로 변경됩니다.
3. NO ACTION : 참조되는 테이블에서 데이터를 삭제하거나 수정해도, 참조하는 테이블의 데이터는 변경되지 않습니다.
4. SET DEFAULT : 참조되는 테이블에서 데이터를 삭제하거나 수정하면, 참조하는 테이블의 데이터는 필드의 기본값으로 설정됩니다.
5. RESTRICT : 참조하는 테이블에 데이터가 남아 있으면, 참조되는 테이블의 데이터를 삭제하거나 수정할 수 없습니다.

