---
published: true
layout: single
title: "2022-07-30-기록 2022-07-30"
categories:
  - TIL
tags:
  - [TIL]

toc: true
toc_sticky: true

---

# 정리하면서 기억 안나던 것들

- pymysql connect 설정
``` mysql
import pymysql

conn = pymysql.connect(host = 'localhost',
                       user = 'root',
                       password= '465684',
                       db = 'ingoo',
                       charset='utf8',
                       cursorclass=pymysql.cursors.DictCursor, #리턴시 dict형식으로 리턴 , 설정하지않으면 배열로 리턴함
                       autocommit=True)
cur = conn.cursor() #커넥션 객체를 통해 데이터 베이스에서 SQL문을 대신 실행해죽 결과를 반환해 줄 커서 객체를 생성한다
```

- user 확인
- 사용자를 추가
- 권한 부여
- 권한 제거

- DATABASE를 이름을 제외하고 생성, 수정할때 설정 할 수 있는것
- BIT 타입 필드 생성
- 고정 소수점 부동소수점?
- VAR가 들어가면 꼭 크기 표시를 해줘야한다
- PK가 반드시 필요한 이유?
- 참조키를 확인하는 방법
``` mysql
#전체 확인
SELECT * FROM 
information_schema.table_constraints

#테이블 확인
SELECT * FROM 
information_schema.table_constraints 
WHERE TABLE_NAME = 'strTable'
```
- 참조키 삭제
``` mysql
ALTER TABLE strTable DROP FOREIGN KEY strtable_ibfk_1
```
- BLOB이 뭔가?
- ON DELETE, ON UPDATE?
	- CASCADE
	- SET NULL
	- NO ACTION  
	- SET DEFAULT  
	- RESTRICT
- DATE, DATETIME, TIMESTAMP의 차이는??
- FOREIGN KEY 추가 삭제할때 모디파이를쓰지않음 ADD와 DROP 뿐
- 정수 포린키 ON DELETE로 PK테이블을 따라가는설정DATE 유니크 숫자로 변경  
  DATETIME 낫눌  
  TIMESTAMP 기본값  
  TIME, YEAR 삭제  
  을 추가하라
- BIT TYPE..
- NUMBER TABLE에서
  ID 1의 레코드를
  SN 741.852  
  MN 963.852  
  BT 8  
  으로수정
- NUMBER TABLE에서 1번 ID 레코드 삭제
- 인덱스 생성
- 인덱스 조회
- PK 유니크에는 인덱스가 자동생성되나?
- 인덱스 정렬
- 인덱스 추가
- 테이블에서 인덱스 삭제
- 인덱스 자체를 삭제
- CASE
	- 내가 느낄때는 case가 if~else 느낌
``` mysql
SELECT id AS id,(
	CASE
  WHEN number = 1 THEN 'fruit'
  WHEN number = 2 THEN 'vegetable'
  WHEN number = 3 THEN 'animal'
  ELSE 'not'
	END
) AS type,
kind AS type_desc
FROM test
```

- IF
  test table에서
  id가 짝수라면 yes 아니라면 no 를 표시해라
  id  , bool
	- 이게 그냥 if 느낌 if(조건,참,거짓)
- IFNULL
	- 두개의인자를 넣는데 첫번쨰가 null이면 2번쨰 인자를 반환
- NULLIF
	- 두개의 인자를 넣고 둘이 같은 값이면 NULL
	  아니라면 첫번쨰 인자를 반환
- LIKE
	- test table의 type에 f로 시작하는 것을 찾아라
	- test table의 type에 f로 시작하는 것을 제외하라
	- test table의 kind에서 두번째 글자가 a인것을 찾아라
- REGEXP
	- kind 필드의 값이 'c'으로 시작하거나, 't'으로 끝나는 레코드를 선택
	![](https://raw.githubusercontent.com/Cloudblack/Forpicture/image//img/20220725122239.png)
- 타입변화
	- BINARY
		- BINARY 연산자는 뒤에 오는 문자열을 바이너리 문자열로 변환합니다.
		- a = A는 True이다 그럼 binary로 비교해봐라
	- CAST
		- CAST() 함수는 인수로 전달받은 값을 명시된 타입으로 변환하여 반환합니다.
		- id를 문자열로 변경하라
		1. BINARY
		2. CHAR
		3. DATE
		4. DATETIME
		5. TIME
		6. DECIMAL
		7. JSON (MySQL 5.7.8부터 제공됨)
		8. NCHAR
		9. SIGNED [INTEGER]
		10. UNSIGNED [INTEGER]

	- CONVERT
- 뷰
	- 생성
		- 셀렉문 앞에 뷰생성을 넣음
		- ins table을 전체 쿼리하는 animal뷰 생성
	- 대체
		- animal 뷰를 outs table 전체 쿼리로 대체
	- 수정
		- ind와 outs의 name만 가져오게 수정
	- 조회
		- 만든 뷰를 조회
	- 조회
		- 만든 뷰를 삭제
- ins와 outs에서 id가 동일한 레코드만 조회
- left, right도 조회
- 이름 합집합 중복제거
- 이름 합집합 중복 포함
- 서브쿼리
	- 아픈 아이들 중에서 이름이 a로 시작하는 동물들

- MATPLOTLIB
	- 폰트, 사이즈, 마이너스 설정

